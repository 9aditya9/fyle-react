(this.webpackJsonpfylefront=this.webpackJsonpfylefront||[]).push([[0],{104:function(e,t,a){},105:function(e,t,a){},135:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(12),s=a.n(r),o=(a(104),a(45)),i=a(20),l=a(11),j=(a(105),a(48)),b=a(13),u=a(49),d=a.n(u),h=a(64),O=a(63),f=a.n(O).a.create({baseURL:"https://banks-restapi.herokuapp.com/api/branches"}),x={GetBanksFromApi:function(){var e=Object(h.a)(d.a.mark((function e(t){var a,n,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.city,n=f.get("/autocomplete",{params:{q:a}}),c=n.then((function(e){return e.data})),e.next=5,c;case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),GetSearchCompletion:function(){var e=Object(h.a)(d.a.mark((function e(t){var a,n,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.searched,n=f.get("",{params:{q:a}}),c=n.then((function(e){return e.data})),e.next=5,c;case 5:return r=e.sent,e.abrupt("return",r.result);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),FavoritesWithLocalStorage:function(e){var t=Object(n.useState)(JSON.parse(localStorage.getItem(e))||[]),a=Object(l.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){localStorage.setItem(e,JSON.stringify(c))}),[c]),[c,r]},ResponseCache:function(e){var t=Object(n.useState)(JSON.parse(localStorage.getItem(e))||{}),a=Object(l.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){localStorage.setItem(e,JSON.stringify(c))}),[c]),[c,r]}},v=a(170),p=a(173),g=a(186),C=a(192),m=a(4),w=Object(v.a)((function(){return{button:{display:"block"},root:{minWidth:120,alignItems:"center",justifyContent:"center",alignSelf:"center",justify:"center",width:"100%"},select:{fontSize:"30px",padding:"2px"}}})),L=function(e){var t=e.city,a=e.cityOptions,c=e.handleCityChange,r=w(),s=Object(n.useState)(!1),o=Object(l.a)(s,2),i=o[0],j=o[1];return Object(m.jsx)("div",{children:Object(m.jsx)(p.a,{className:r.root,children:Object(m.jsx)(g.a,{className:r.select,open:i,onClose:function(){return j(!1)},onOpen:function(){return j(!0)},value:t,onChange:c,children:a.map((function(e){return Object(m.jsx)(C.a,{value:e.value,children:e.label},e.value)}))})})})};var y=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",style:{backgroundColor:"aliceblue"},children:Object(m.jsxs)("div",{className:"container-fluid",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(m.jsx)(j.b,{to:"/fyle-react",style:{color:"rgb(157, 5, 212)"},className:"navbar-brand nav-title mb-2 mb-lg-0",children:"Home"}),Object(m.jsx)("div",{style:{color:"rgb(157, 5, 212)",marginLeft:"20px",marginRight:"20px",fontSize:"25px"},children:"FYLE TASK"}),Object(m.jsx)(j.b,{to:"/fyle-react/favorites",style:{color:"rgb(157, 5, 212)"},className:"navbar-brand nav-title mb-2 mb-lg-0",children:"Favorites"})]})})})},S=(a(79),a(42)),k=a.n(S),N=a(178),F=a(180),I=a(181),A=a(182),B=a(183),E=a(185),R=a(188),H=a(190),P=a(187),G=a(184),J=a(56),W=a.n(J),_=a(189),D=function(e){var t=e.Banks,a=e.handleFav,c=e.favoritesIFSC,r=Object(n.useState)(0),s=Object(l.a)(r,2),i=s[0],j=s[1],b=Object(n.useState)(3),u=Object(l.a)(b,2),d=u[0],h=u[1],O=Object(n.useState)(""),f=Object(l.a)(O,2),p=f[0],g=f[1],C=Object(n.useState)([]),w=Object(l.a)(C,2),L=w[0],y=w[1],S=Object(v.a)({root:{fontWeight:"bolder",fontStyle:"italic"},paperContainer:{maxHeight:440}});Object(n.useEffect)((function(){x.GetSearchCompletion({searched:p}).then((function(e){return y(e)})).catch((function(e){alert("Search Completion Not Working")}))}),[p]);return Object(m.jsx)("div",{children:Object(m.jsxs)(N.a,{className:"paperContainer",children:[Object(m.jsx)(P.a,{options:L.map((function(e){return""===p?"":e.ifsc.toLowerCase().includes(p.toLowerCase())?e.ifsc:e.address.toLowerCase().includes(p.toLowerCase())?e.address:e.branch.toLowerCase().includes(p.toLowerCase())?e.branch:e.city.toLowerCase().includes(p.toLowerCase())?e.city:e.state.toLowerCase().includes(p.toLowerCase())?e.state:e.bank_name.toLowerCase().includes(p.toLowerCase())?e.bank_name:""})),renderInput:function(e){return Object(m.jsx)(H.a,Object(o.a)(Object(o.a)({},e),{},{label:"Search",margin:"20px",variant:"outlined",onChange:function(e){return g(e.target.value)}}))}}),Object(m.jsxs)(F.a,{children:[Object(m.jsx)(I.a,{style:S.root,children:Object(m.jsxs)(A.a,{children:[Object(m.jsx)(B.a,{children:Object(m.jsx)(G.a,{endIcon:Object(m.jsx)(k.a,{}),children:"Fav"})}),Object(m.jsx)(B.a,{children:"IFSC"}),Object(m.jsx)(B.a,{children:"Bank Name"}),Object(m.jsx)(B.a,{children:"Branch"}),Object(m.jsx)(B.a,{children:"Address"}),Object(m.jsx)(B.a,{children:"City"}),Object(m.jsx)(B.a,{children:"District"}),Object(m.jsx)(B.a,{children:"State"})]})}),Object(m.jsx)(E.a,{children:t.filter((function(e){return""===p||e.ifsc.toLowerCase().includes(p.toLowerCase())||e.address.toLowerCase().includes(p.toLowerCase())||e.branch.toLowerCase().includes(p.toLowerCase())||e.city.toLowerCase().includes(p.toLowerCase())||e.state.toLowerCase().includes(p.toLowerCase())||e.bank_name.toLowerCase().includes(p.toLowerCase())?e:void 0})).slice(i*d,i*d+d).map((function(e,t){return Object(m.jsxs)(A.a,{hover:!0,children:[Object(m.jsx)(B.a,{children:Object(m.jsx)(_.a,{onChange:a,icon:Object(m.jsx)(k.a,{}),checkedIcon:Object(m.jsx)(W.a,{}),name:"checkedH",checked:c.includes(e.ifsc),value:e.ifsc})}),Object(m.jsx)(B.a,{children:e.ifsc}),Object(m.jsx)(B.a,{style:{color:"blue"},children:e.bank_name}),Object(m.jsx)(B.a,{children:e.branch}),Object(m.jsx)(B.a,{children:e.address}),Object(m.jsx)(B.a,{children:e.city}),Object(m.jsx)(B.a,{children:e.district}),Object(m.jsx)(B.a,{children:e.state})]},t)}))})]}),Object(m.jsx)(R.a,{rowsPerPageOptions:[3,5,10,24],component:"div",count:t.length,rowsPerPage:d,page:i,onChangePage:function(e,t){j(t)},onChangeRowsPerPage:function(e){h(e.target.value)}})]})})},K=function(e){var t=e.favorites,a=e.removeFav,c=Object(n.useState)(""),r=Object(l.a)(c,2),s=r[0],o=r[1],i=Object(v.a)({root:{fontWeight:"bolder",fontStyle:"italic"},paperContainer:{maxHeight:440}});return Object(m.jsx)("div",{children:Object(m.jsxs)(N.a,{className:"paperContainer",children:[Object(m.jsx)(H.a,{lable:"Search",variant:"outlined",onChange:function(e){return o(e.target.value)}}),Object(m.jsxs)(F.a,{children:[Object(m.jsx)(I.a,{style:i.root,children:Object(m.jsxs)(A.a,{children:[Object(m.jsx)(B.a,{children:Object(m.jsx)(G.a,{endIcon:Object(m.jsx)(k.a,{}),children:"Fav"})}),Object(m.jsx)(B.a,{children:"IFSC"}),Object(m.jsx)(B.a,{children:"Bank Name"}),Object(m.jsx)(B.a,{children:"Branch"}),Object(m.jsx)(B.a,{children:"Address"}),Object(m.jsx)(B.a,{children:"City"}),Object(m.jsx)(B.a,{children:"District"}),Object(m.jsx)(B.a,{children:"State"})]})}),Object(m.jsx)(E.a,{children:t.filter((function(e){return""===s||e.ifsc.toLowerCase().includes(s.toLowerCase())||e.address.toLowerCase().includes(s.toLowerCase())||e.branch.toLowerCase().includes(s.toLowerCase())||e.city.toLowerCase().includes(s.toLowerCase())||e.state.toLowerCase().includes(s.toLowerCase())||e.bank_name.toLowerCase().includes(s.toLowerCase())?e:void 0})).map((function(e,t){return Object(m.jsxs)(A.a,{hover:!0,children:[Object(m.jsx)(B.a,{children:Object(m.jsx)(_.a,{onChange:a,icon:Object(m.jsx)(k.a,{}),checkedIcon:Object(m.jsx)(W.a,{}),name:"checkedH",value:e.ifsc,checked:!0})}),Object(m.jsx)(B.a,{children:e.ifsc}),Object(m.jsx)(B.a,{style:{color:"blue"},children:e.bank_name}),Object(m.jsx)(B.a,{children:e.branch}),Object(m.jsx)(B.a,{children:e.address}),Object(m.jsx)(B.a,{children:e.city}),Object(m.jsx)(B.a,{children:e.district}),Object(m.jsx)(B.a,{children:e.state})]},t)}))})]})]})})},M=[{label:"Bangalore",value:"BANGALORE"},{label:"Mumbai",value:"MUMBAI"},{label:"Chennai",value:"CHENNAI"},{label:"Kolkata",value:"KOLKATA"},{label:"Delhi",value:"DELHI"}],q=function(){var e=Object(n.useState)("BANGALORE"),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),s=Object(l.a)(r,2),u=s[0],d=s[1],h=x.FavoritesWithLocalStorage("favorites"),O=Object(l.a)(h,2),f=O[0],v=O[1],p=x.ResponseCache("response"),g=Object(l.a)(p,2),C=g[0],w=g[1],S=function(e){var t=e.target.value,a=u.filter((function(e){return t===e.ifsc}));console.log(a);var n=a[0]||"";n&&v([].concat(Object(i.a)(f),[n])),f&&f.length>0?f.forEach((function(e,t){if(e.ifsc===n.ifsc)return f.splice(t,1),void v(Object(i.a)(f))})):v([].concat(Object(i.a)(f),[n]))},k=f.map((function(e){return e.ifsc})),N=function(e){console.log(e.target.value),f&&f.length>0&&f.forEach((function(t,a){if(t.ifsc===e.target.value)return console.log("Remove favorite",a),f.splice(a,1),console.log(f),void v(Object(i.a)(f))}))},F=function(e){c(e.target.value),console.log(a)};return Object(n.useEffect)((function(){var e="/autocomplete?q="+a;if(C[e]){console.log(C[e]);var t=C[e];return d(t.result),void console.log("response caching working")}x.GetBanksFromApi({city:a}).then((function(t){C[e]=t,w(Object(o.a)({},C)),d(t.result)}))}),[a]),Object(m.jsxs)(j.a,{children:[Object(m.jsx)(y,{}),Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(b.a,{path:"/fyle-react",exact:!0,render:function(e){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(L,{city:a,handleCityChange:F,cityOptions:M}),Object(m.jsx)(D,{Banks:u,handleFav:S,favoritesIFSC:k})]})}}),Object(m.jsx)(b.a,{path:"/fyle-react/favorites",exact:!0,render:function(e){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(K,{favorites:f,removeFav:N})})}})]})]})};s.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(q,{})}),document.getElementById("root"))},79:function(e,t,a){}},[[135,1,2]]]);
//# sourceMappingURL=main.62c46f87.chunk.js.map